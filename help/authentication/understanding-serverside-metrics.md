---
title: 서버측 지표 이해
description: 서버측 지표 이해
source-git-commit: 326f97d058646795cab5d062fa5b980235f7da37
workflow-type: tm+mt
source-wordcount: '2187'
ht-degree: 0%

---

# 서버측 지표 이해 {#understanding-server-side-metrics}

>[!NOTE]
>
>이 페이지의 컨텐츠는 정보용으로만 제공됩니다. 이 API를 사용하려면 Adobe의 현재 라이선스가 필요합니다. 무단 사용이 허용되지 않습니다.


## 소개 {#intro}

이 문서에서는 ESM(Entitlement Service Monitoring) 서비스에서 생성된 Adobe Primetime 인증 서버측 지표에 대해 설명합니다. 클라이언트측 관점에서 보는 것과 동일한 이벤트를 설명하지는 않습니다(프로그래머가 페이지/애플리케이션에서 Adobe Analytics과 같은 측정 서비스를 구현할지 어떨지 표시).  

## 이벤트 요약 {#events_summary}

Adobe Primetime 인증 서버측 보기에서 다음 이벤트가 생성됩니다.

* **인증 플로우에서 생성된 이벤트**(MVPD를 사용한 실제 로그인)

   * AuthN 시도 알림 - 사용자가 MVPD 로그인 사이트로 전송될 때 생성됩니다.
   * AuthN 보류 중 알림 - 사용자가 MVPD로 로그인하는 데 성공하면 사용자가 Primetime 인증으로 다시 리디렉션될 때 생성됩니다.
   * AuthN 부여됨 알림 - 사용자가 다시 프로그래머 사이트에 있을 때 생성되며 Primetime 인증에서 인증 토큰을 성공적으로 검색했습니다. 
* **인증 흐름** (MVPD를 통한 권한 부여 확인)\
   *전제 조건:* 유효한 AuthN 토큰
   * AuthZ 시도 알림
   * AuthZ의 알림 허가
* **재생 요청 성공**\
   *전제 조건:* 유효한 AuthN 및 AuthZ 토큰
   * Adobe Primetime 인증을 사용한 확인 알림 
   * 재생 요청에는 부여된 인증과 부여된 인증이 모두 필요합니다


고유 사용자 수는 [고유 사용자](#unique-users) 섹션을 참조하십시오. 개요에서는 부여된 인증 및 인증 응답이 일반적으로 캐시되므로 다음 수식이 일반적으로 적용됩니다.

* AuthN 시도 횟수 \> 부여된 AuthN 수
* AuthZ 시도 횟수 \> 부여된 AuthZ 수
* AuthZ 시도 횟수 \> 부여된 AuthN 수(일반적으로)
* 성공한 재생 요청 수 \> 부여된 AuthZ 수


### 예 {#example}

다음 예는 한 브랜드에 대해 한 달 동안의 서버측 지표를 보여줍니다.

| 지표 | MVPD 1 | MVPD 2 |... | MVPD n | 합계 | | — | — | — | - | — | — | | 성공적인 인증 | 1125 | 2892 | | 2203 | SUM(MVP1+...MVPD n) | | 권한 부여 성공 | 2527 | 5603 | | 5904 | SUM(MVP1+...MVPD n) | | 성공적인 재생 요청 | 4201 | 10518 | | 10737 | SUM(MVP1+...MVPD n) | | 고유 사용자 수 | 1375 | 2400 | | 2890 | 모든 MVPD에 대한 모든 사용자 합계 중복 제거\* | | 시도된 인증 | 2147 | 3887 | | 3108 | SUM(MVP1+...MVPD n) | | 시도된 권한 | 2889 | 6139 | | 6039 | SUM(MVP1+...MVPD n) |

</br>

이 경우 중복 제거는 다른 MVPD 사용자가 동일한 사용자 ID를 받지 않아야 하므로 영향을 주지 않습니다. 두 개의 서로 다른 브랜드에 대해 합계를 낼 때 동일한 MVPD에 대해 중복 제거 효과가 훨씬 클 것입니다.

## 이벤트 트리거 {#event_triggers}

### 새 사용자 - 전체 흐름 {#new-user-full-flow}

다음 차트는 인증 토큰이 없는 사용자(새 사용자 또는 인증 토큰이 만료된 사용자)에 대한 이벤트 및 단계를 설명합니다.



![](assets/ae-flow-with-events.png)



이 흐름에는 인증 (\#7으로 #5) 및 인증 (\#11) 모두에 대해 MVPD로 이동하는 라운드 트립이 포함됩니다.



흐름이 완료되면 사용자의 장치에 인증 및 인증 토큰이 캐시됩니다. 인증 토큰의 TTL(Time-to-Live) 값은 6시간에서 90일 사이입니다. AuthN 토큰 만료는 자동으로 AuthZ 토큰 만료를 강제 적용합니다. 인증 토큰의 TTL 값은 일반적으로 24시간입니다.

| 트리거된 서버측 이벤트 | <ul><li>인증 시도, 인증 보류 중, 인증 부여됨</li><li>권한 부여 시도, 권한 부여</li><li>재생 요청 성공</li></ul> |
|---|---|


### 재방문 사용자 - AuthZ 및 AuthN 토큰이 캐시됨

유효한 AuthZ 및 AuthN 토큰이 캐시된 사용자의 경우 다음 단계가 발생합니다.


![](assets/ae-flow-tokens-cached-web.png)



호출 시 자동으로 트리거됩니다 `getAuthorization()`에는 Adobe Primetime 인증만 표시됩니다. MVPD가 이 흐름과 관련이 없습니다.


| 트리거된 서버측 이벤트 | * 재생 요청 성공 |
|---|---|


### 재방문 사용자 - AuthN 토큰 캐시됨, AuthZ 토큰 만료됨

여전히 유효한 AuthN 토큰이 있는 사용자의 경우 다음 단계가 발생합니다.

![](assets/ae-flow-authn-token-cached.png)


이 흐름에는 MVPD로의 왕복 이동이 포함됩니다.


| 트리거된 서버측 이벤트 | <ul><li>인증 시도, 인증 확인</li><li>재생 요청 성공</li> |
|---|---|

## 인증 이벤트 {#authn_events}

### 인증 시도 {#authentication-attempt}

위의 다이어그램에서 보듯이, 인증 이벤트는 사용자가 MVPD로 라운드트립할 때만 트리거됩니다. 인증 이벤트에는 캐시된 토큰 인증이 포함되지 않습니다.

사용자가 선택기에서 특정 MVPD를 클릭하면 인증 시도 이벤트가 트리거됩니다.

* MVPD 측에서 가장 가까운 첫 번째 이벤트는 페이지 로드입니다
* Adobe Primetime 인증에서는 사용자가 MVPD 페이지에 로그인하기 위해 반복된 시도를 카운트하지 않습니다(잘못된 암호, 다시 시도)
* 여러 번 시도하면 한 번의 시도로 계산됩니다
* 일부 MVPD도 인증 단계에서 인증을 수행하며 권한 부여에 실패하면 사용자가 다시 리디렉션되지 않습니다.

### 인증 보류 중 {#authentication-pending}

이 이벤트는 Adobe Primetime 인증으로의 리디렉션 프로세스가 시작될 때 발생합니다.

### 인증 부여됨 {#authentication-granted}

사용자는 MVPD의 알려진 가입자로, 일반적으로 유료 TV 가입이지만 가끔 인터넷 액세스 권한만 있습니다. 사용자가 MVPD를 사용하여 유효한 자격 증명을 명시적으로 입력했거나, 이전에 유효한 자격 증명을 입력하고 &quot;내 정보 저장&quot;을 선택했기 때문에(이전 세션이 만료되지 않음) 성공적인 인증이 발생할 수 있습니다.

따라서 MVPD는 인증 요청에 대한 긍정적인 응답을 Adobe Primetime 인증을 전송하고 Adobe Primetime 인증에서는 *AuthN 토큰*.

* 일반적으로 인증은 장기간(1개월 이상) 캐시됩니다. 이로 인해 토큰이 만료되고 흐름이 다시 시작될 때까지 인증 이벤트가 더 이상 존재하지 않습니다.
* 단일 사인온을 통해 다른 사이트/앱에서 로그인하면 인증 이벤트가 트리거되지 않습니다.

 

### Comcast Authentication {#comcast-authentication}

Comcast에는 나머지 MVPD와 비교하여 다른 AuthN 플로우가 있습니다.

다음 기능에서는 차이점을 설명합니다.

* **세션 쿠키 동작**: 이렇게 하면 사용자가 브라우저를 닫은 후 모든 인증 토큰이 제거됩니다. 이 기능은 웹에만 제공됩니다. 주 목적은 Comcast 세션이 안전하지 않은/공유 컴퓨터에서 지속되지 않도록 하는 것입니다. 그 영향은 나머지 MVPD보다 더 많은 인증 시도/승인 흐름이 있을 것이다.

* **요청자당 AuthN**: Comcast에서는 AuthN 상태를 한 요청자 ID에서 다른 요청자 ID로 캐시할 수 없습니다. 이로 인해 각 사이트/앱은 인증 토큰을 얻으려면 Comcast로 이동해야 합니다. 사용자 경험 고려 사항 외에 위와 같이, 영향을 받는 것은 더 많은 인증 시도/부여된 이벤트가 생성된다는 것입니다.

* **수동 인증**: 사용자 경험을 개선하지만 요청자 ID당 AuthN 기능을 계속 유지하기 위해 숨겨진 iFrame에서 수동 인증 흐름이 발생합니다. 사용자는 아무 것도 표시되지 않지만 이벤트가 이전과 동일하게 트리거됩니다.

사용자가 Comcast 로그인 페이지에서 &quot;내 정보 저장&quot;을 클릭하는 경우 이 페이지에 대한 후속 방문(2주 기간)은 다시 빠른 리디렉션이 됩니다. 그렇지 않으면 사용자는 실제로 페이지에서 인증해야 합니다.

### 인증 실패 {#unsuccessful-authentication}

실패한 인증은 Adobe Primetime 인증에서 설정된 이벤트가 아니라 시도와 성공 간의 차이로 계산할 수 있습니다.

2013년 5월 릴리스에서는 Adobe Primetime 인증이 DRM 오류(토큰 바인딩이 실패함) 및 LSO 오류(토큰을 쓸 공간 없음 등)를 포함하여 시스템 또는 네트워크 오류로 인해 실패한 인증에 대해 오류 코드를 추가합니다.

### 인증 전환율 {#authenitication-conversion-rate}

프로그래머가 추적할 수 있는 한 가지 흥미로운 지표는 (AuthN 요청 / AuthN 부여됨)%로 계산되는 인증 전환율입니다.

지표에 대한 일부 참고 사항:

* 이벤트 기반 지표이므로 고유 사용자 전환율을 반영하지 않습니다. 사용자가 8번 시도하여 9번 성공하는 경우 위의 전환율에 매우 잘 반영됩니다.
* Adobe Primetime 인증(서버측)에서는 아직 고유한 기반 인증 전환을 계산하는 방법이 없습니다.
* 사이트/앱에 자동 AuthN 다시 시도가 있으면 위의 지표도 왜곡됩니다.

## 인증 이벤트 {#authorization_events}

### 인증 시도 {#authorization_attempt}

인증 토큰을 가져오는 것 외에도 사용자는 컨텐츠를 재생하기 전에 인증 토큰을 가져와야 합니다. 일반적으로 인증 후 또는 인증 토큰이 만료된 경우 발생합니다. 이 검사는 서버측(Adobe Primetime 인증 서버에서 MVPD 서버로)에서 수행되므로 사용자는 아무 작업도 수행할 필요가 없습니다.

### 승인 {#authorization-granted}

&quot;부여된 권한 부여&quot;는 인증된 사용자의 구독에 요청된 프로그래밍이 포함된다는 신호를 보냅니다.

일부 MVPD는 별도의 인증 단계를 지원하지 않습니다. 일부 인증은 인증과 같습니다. MVPD가 백채널 AuthZ 요청에 대해 Adobe Primetime 인증을 성공적으로 보내고 Adobe Primetime 인증이 AuthZ 토큰을 만듭니다.

* AuthZ 토큰은 일정 기간 동안 캐시됩니다. 일반적으로 24시간 이 기간 동안에는 AuthZ 이벤트가 실행되지 않습니다.
* 일부 MVPD는 자산 수준 승인을 사용하여 작동하며, 다른 MVPD는 채널 수준 승인을 사용하여 작동합니다. - 사용되는 이벤트에 따라 AuthZ 이벤트가 하나 이상 실행됩니다. 채널 수준 권한 부여의 경우에도 캐싱이 적용되므로 24시간 이내에 동일한 자산이 요청되면 이벤트가 실행되지 않습니다.

### 승인 거부 {#authorization-denied}

인증이 거부되면 인증된 사용자는 요청된 프로그래밍에 대해 확인된 구독을 갖지 않습니다. 가장 가능성 있는 원인은 채널이 사용자의 구독 패키지에 속하지 않지만 MVPD에서 인터넷에 액세스할 수 있는 사용자도 반영될 수 있기 때문입니다.

일부 MVPD의 경우 사용자는 MVPD의 인터넷 구독만 있지만(유료 TV 구독 없음) 인증됩니다. 이 경우 사용자가 인증을 요청하는 채널이 기본 패키지에 있어도 인증이 거부됩니다.

일부 MVPD는 패키지 업그레이드를 위한 오퍼를 포함할 수 있는 AuthZ 거부에 대한 사용자 지정 오류 메시지를 제공합니다.


### 승인 전환율 {#authorization-conversion-rate}

인증 전환율은 (AuthZ 요청 / AuthZ 부여됨)%로 계산할 수 있습니다.

### 재생 요청 성공 {#successful-play-request}

인증되고 인증된 사용자는 보호된 콘텐츠를 볼 수 있습니다.

성공적으로 재생 요청이 발생하면 Adobe Primetime 인증은 사용자가 요청한 비디오를 볼 수 있다고 주장하는 단기 보유 미디어 토큰을 생성합니다. 프로그래머는 이 미디어 토큰을 사용하여 예상 뷰어의 유효성을 추가로 확인합니다. 미디어 토큰은 성공적인 재생 요청으로 추적됩니다.

* Adobe Primetime 인증은 다음을 수행합니다 *not* 미디어 토큰을 생성한 후 비디오 재생이 실제로 시작되었는지 여부를 추적합니다. 예를 들어 컨텐츠에 대한 지리적 제한이 있는 경우 스트림이 실제로 시작되지 않더라도 트랜잭션은 여전히 성공적인 재생 요청으로 계산됩니다.
* AuthN 및 AuthZ 토큰은 일정 시간 동안 MVPD 응답을 캐시하므로 성공적인 재생 요청 이벤트는 지표에서 가장 빈번한 이벤트입니다.

## 고유 사용자 {#unique-users}

### 정의 {#definition}

성공적으로 인증되면 Adobe Primetime 인증은 반환된 MVPD 사용자 ID 값을 기반으로 고유 사용자의 존재를 추적합니다.  이 값은 사용자의 로그인 정보를 기반으로 하지만 개인화할 수 있는 정보는 포함되어 있지 않습니다.

이 값은 sendTrackingData 콜백에서 사이트/앱에도 전달됩니다.

이 값은 장치 간에 지속될 수 있습니다(MVPD는 로그인이 발생하는 위치에 관계없이 지정된 사용자에 대해 동일한 값을 생성합니다) 또는 일시적(각 로그인에 대해 MVPD가 백 엔드에 매핑하는 새 값이 생성됩니다. 일반적으로 MVPD에서 Adobe Primetime 인증에 제공하는 값은 세션 및 장치에서 지속되지만, 명시된 대로 지속성은 보장되거나 검증되지 않습니다.

이 값은 고유 사용자를 계산하는 방법으로 사용됩니다. 보고된 값(요청자 ID/간격/MVPD당)은 특정 간격에 대해 중복 제거됩니다. 따라서 일별 고유 사용자의 합계는 일반적으로 월별 값과 다르며 값이 낮은 월별 값입니다.

이 수에는 Adobe Primetime 인증의 모든 이벤트, 사용자 ID가 없는 인증 시도(사용자 ID가 없음)가 포함되지만 시도된(실패했을 수 있음) 승인이 포함될 수 있습니다.

### 예 {#examples}

#### 1일 {#day1}

사용자 XYZ가 사이트를 방문하여 비디오를 시청합니다.

실행된 이벤트:

* AuthN 시도(아직 고유 사용자가 없음)
* AuthN 부여됨
   * 이 시점에서는 MVPD가 반환하는 내용을 기반으로 사용자를 고유하게 식별하므로 일별 고유 사용자 수가 1씩 증가합니다
   * authN 토큰이 30일 동안 캐시됩니다
* AuthZ 시도 / 부여된 이벤트
   * 1일 동안 캐시된 AuthZ 토큰
* 재생 요청 이벤트 성공

#### 1일(나중에) {#day1-later-on}

사용자 XYZ는 다른 비디오를 시청합니다.

실행된 이벤트:

* 성공적인 재생 요청 이벤트(나머지는 캐시됨)
* 일별 또는 월별 고유 수는 증가하지 않습니다

#### 3일 {#day3}

사용자 XYZ는 다른 비디오를 시청합니다.

실행된 이벤트:

* AuthZ 시도 / 부여된 이벤트
   * 1일부터 1일 캐싱이 만료된 이후
* 성공적인 재생 요청 이벤트(나머지는 캐시됨)
* 일별 고유 사용자가 1씩 증가함 - 월간 고유 수는 여전히 1입니다.

#### 31일 {#day31}

사용자 XYZ는 다른 비디오를 시청합니다.

AuthN 캐싱이 만료된 이후 1일과 동일합니다.

동일한 사용자가 권한 부여에 실패한 경우 사용자 ID를 포함하는 두 개의 이벤트(인증 부여와 인증 시도)가 있으므로 월별 고유 사용자 수가 1씩 증가합니다.

### SSO(Single-Sign-On) {#single-sign-on-sso}

경우에 따라 고유 사용자 수가 성공적인 인증 수보다 클 수 있습니다. 일반적으로 많은 사용자가 다른 사이트/앱에서 SSO를 통해 들어올 때 현재 사이트/앱에서만 인증을 받아야 하는 경우가 있습니다.

### 클라이언트측과 서버측 고유 사용자 비교 {#comparing-client-side-and-server-side-unique-users}

사용자 ID 값이 `sendTrackingData()` 클라이언트측에서 고유 사용자를 카운트하기 위해 를 사용하면 클라이언트측 및 서버측 번호가 일치해야 합니다.

차이가 큰 경우 일반적으로 다음 원인이 그 차이를 설명합니다.

* 비디오 재생 고유 정보와 모든 이벤트 고유 사항 언급했듯이 Adobe Primetime 인증은 AuthN 시도를 제외한 모든 이벤트에 대한 고유 사용자를 계산합니다. 즉, 사용자가 인증만 하지만(페이지에서) 비디오를 보지 않는 경우 고유한 사용자 수 증가가 여전히 트리거됩니다.

* 권한 부여에 실패한 사용자 수 계산 - Adobe Primetime 인증은 보고된 수와 이러한 사용자를 계산합니다.

<!--
## Related Information {#related-information}

- [Entitlement Service Monitoring API](/help/authentication/entitlement-service-monitoring-api.md)

-->