---
description: TVSDK는 라이브 스트리밍에 대한 마스터 m3u8 매니페스트에서 변경된 재생 정보를 감지하고 스트림이 재생되는 동안 재생 정보를 업데이트할 수 있습니다. TVSDK는 업데이트 간의 겹치지 않는 프로필 비트 전송률을 포함하여 마스터 매니페스트에서 프로필이 나타나거나 사라질 때 동적 비트 전송률 프로필 집합을 지원합니다.
title: 라이브 마스터 매니페스트 업데이트
exl-id: e3fffe64-1d44-4227-b830-c7661478f067
source-git-commit: be43bbbd1051886c8979ff590a3197b2a7249b6a
workflow-type: tm+mt
source-wordcount: '740'
ht-degree: 0%

---

# 라이브 마스터 매니페스트 업데이트{#live-master-manifest-update}

TVSDK는 라이브 스트리밍에 대한 마스터 m3u8 매니페스트에서 변경된 재생 정보를 감지하고 스트림이 재생되는 동안 재생 정보를 업데이트할 수 있습니다. TVSDK는 업데이트 간의 겹치지 않는 프로필 비트 전송률을 포함하여 마스터 매니페스트에서 프로필이 나타나거나 사라질 때 동적 비트 전송률 프로필 집합을 지원합니다.

지원되는 기능은 다음과 같습니다.

* 프로필 개수(증가 또는 감소)
* 프로필 비트 전송률(겹치거나 겹치지 않음)
* 동일한(또는 다른) 서버에 URL이 있는 프로필
* 모든 페일오버 구조

다음 조건을 모두 충족해야 합니다.

* 스트림 라이브.
* 시간과 태그가 모두 변경됩니다.
* 모든 렌디션 정보는 동일하게 유지됩니다(URL이 다를 수 있는 경우 제외).
* DRM 액세스 정보는 그대로 유지됩니다.
* 세그먼트는 작은 오류 범위에서 동일한 PTS 및 프레임 경계 주위에 패키지됩니다.

## 라이브 마스터 매니페스트 업데이트 아키텍처 {#section_32254A0F684B4960ACC33BF6B1AEF6F1}

다음은 TVSDK가 업데이트된 마스터 매니페스트를 수용하는 방법에 대한 몇 가지 정보와 예입니다.

기본적으로 이 기능은 꺼져 있습니다. 응용 프로그램에서 업데이트 빈도를 분 단위로 설정하여 이 기능을 켜면 모든 업데이트 간격 후에 다음 단계가 수행됩니다.

1. TVSDK는 마스터 매니페스트의 마지막 수정 시간과 etag를 확인하여 파일이 업데이트되었는지 확인합니다.

   시간과 etag가 모두 변경된 경우 파일이 수정된 것으로 간주됩니다.
1. TVSDK는 새 매니페스트를 구문 분석하고 업데이트의 특성에 따라 적절한 작업을 수행합니다.
1. 현재 재생 비트율이 수정된 매니페스트의 비트율과 일치하는 경우 TVSDK는 새 프로필로 전환합니다.

   새 프로필은 동일한 비트 전송률로 다른 서버 또는 동일한 서버의 프로필일 수 있습니다. 이 경우 전환이 매끄럽습니다.
1. 현재 재생 비트율이 새 매니페스트에 더 이상 존재하지 않으면 TVSDK는 새 매니페스트에도 존재하는 현재 프로필에서 비트율을 찾으려고 합니다.

   * 일치하는 항목이 있으면 플레이어는 먼저 기존 매니페스트에서 일치하는 비트 전송률 프로필로 전환하고 업데이트된 매니페스트에서 일치하는 비트 전송률 프로필로 전환합니다. 이렇게 하면 전환이 매끄러워집니다.
   * 이전 매니페스트와 새 매니페스트 간에 공통인 비트 전송률이 없거나 TVSDK가 일치하는 비트 전송률로 전환할 수 없는 경우 TVSDK는 새 매니페스트의 가장 낮은 비트 전송률 프로필로 직접 전환하고 ABR을 사용하여 대역폭을 기준으로 허용 가능한 비트 전송률로 전환합니다. 이로 인해 재생에 약간의 결함이 발생할 수 있지만 영향을 최소화해야 합니다.

1. 업데이트에 성공하면 TVSDK에서 `MediaPlayerItemEvent.MASTER_UPDATED` 이벤트.
1. 업데이트에 실패하는 경우 이 업데이트 이전에서 설정을 사용하여 재생이 계속됩니다.

### 예 1 {#example_DB55F2B9D98741628C9B973E47A0B6A0}

다음 비트 속도가 Live로 브로드캐스트되고 있습니다.

* 500k
* 900k
* 2100k

2100k 스트림에 문제가 있으므로 다시 시작해야 합니다. 마스터 매니페스트는 500k와 900k만 포함하도록 업데이트됩니다. 얼마 지나지 않아 2100k로 이 프로그램을 시청하는 사용자들은 900k로 비트율이 내려가는 경험을 하게 된다. 900k에서 시청하는 사용자들은 계속해서 900k에서 시청한다. 나중에 2100k 스트림이 다시 시작되고 마스터 매니페스트에 다시 추가됩니다. 얼마 후 900k로 시청하고 있고, 대역폭이 있는 사용자들은 2100k로 전환된다.

### 예제 2 {#example_485E9A9F373D454CADE5395DEC734E5D}

다음 비트 속도가 Live로 브로드캐스트되고 있습니다.

* 500k
* 900k
* 2100k

이러한 모든 비트 전송률을 다시 시작해야 합니다. 이를 위해 400k와 1500k로 두 개의 시간적 스트림이 설정되어 있다. 사용자들은 새로운 구성의 최저 비트 레이트인 400k로 전환된다. 일부 사용자는 대역폭이 충분할 때 1500k로 전환됩니다. 나중에 3비트 전송률이 백업되고 마스터 매니페스트가 업데이트됩니다. 사용자가 수정된(원래) 매니페스트에서 가장 낮은 대역폭인 500k에서 시청하도록 자동으로 다시 전환합니다. 잠시 후 사용자는 네트워크가 허용하는 가장 높은 대역폭(900k 또는 1200k)으로 전환됩니다.

## 라이브 마스터 매니페스트 업데이트 사용 {#section_34AC4A9751DB4B7C8561302C6A59A1C4}

이 기능을 켜고 관련 이벤트를 확인할 수 있습니다.

1. 라이브 마스터 매니페스트 업데이트를 켜려면 다음을 설정하여 업데이트 빈도(분)를 설정하십시오. `NetworkConfiguration.masterUpdateInterval` 속성.
1. 필요한 경우 다음을 수신하여 성공적인 매니페스트 업데이트를 추적합니다. `MediaPlayerItemEvent.MASTER_UPDATED` 이벤트.
