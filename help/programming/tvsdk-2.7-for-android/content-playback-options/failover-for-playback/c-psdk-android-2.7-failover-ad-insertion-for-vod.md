---
description: VOD(video-on-demand) 광고 삽입 프로세스는 광고 해결, 광고 삽입 및 광고 재생 단계로 구성됩니다. 광고 추적의 경우 TVSDK는 원격 추적 서버에 각 광고의 재생 진행 상황을 알려야 합니다. 예기치 않은 상황이 발생하면 TVSDK는 적절한 조치를 취합니다.
title: VOD에 대한 Advertising 삽입 및 장애 조치
source-git-commit: 02ebc3548a254b2a6554f1ab34afbb3ea5f09bb8
workflow-type: tm+mt
source-wordcount: '689'
ht-degree: 0%

---

# VOD에 대한 Advertising 삽입 및 장애 조치 {#advertising-insertion-and-failover-for-vod}

VOD(video-on-demand) 광고 삽입 프로세스는 광고 해결, 광고 삽입 및 광고 재생 단계로 구성됩니다. 광고 추적의 경우 TVSDK는 원격 추적 서버에 각 광고의 재생 진행 상황을 알려야 합니다. 예기치 않은 상황이 발생하면 TVSDK는 적절한 조치를 취합니다.

## 광고 해결 단계 {#section_5DD3A7DA79E946298BFF829A60202E1C}

TVSDK는 Adobe Primetime ad decisioning과 같은 광고 게재 서비스에 연결하고 광고 비디오 스트림에 해당하는 기본 재생 목록 파일을 가져오려고 합니다. 광고 해결 단계 동안 TVSDK는 원격 광고 전달 서버에 대한 HTTP 호출을 수행하고 서버의 응답을 구문 분석합니다.

TVSDK는 다음 유형의 광고 공급자를 지원합니다.

* 메타데이터 광고 공급자

  광고 데이터는 일반 텍스트 JSON 파일로 인코딩됩니다.
* Primetime ad decisioning 광고 공급자

  TVSDK가 타겟팅 매개 변수 세트와 자산 식별 번호를 포함하는 요청을 Primetime ad decisioning 백 엔드 서버에 보냅니다. Primetime ad decisioning필수 광고 정보가 포함된 SMIL(Synchronized Multimedia Integration Language) 문서에 응답합니다.
* 사용자 지정 광고 마커 공급자

  광고가 서버 측에서 스트림으로 연소되는 상황을 처리합니다. TVSDK는 실제 광고 삽입을 수행하지 않지만 서버측에 삽입된 광고를 추적해야 합니다. 이 공급자는 TVSDK가 광고 추적을 수행하는 데 사용하는 광고 마커를 설정합니다.

이 단계에서 다음 페일오버 상황 중 하나가 발생할 수 있습니다.

* 예를 들어, 연결 결여나 리소스 등의 서버측 오류를 찾을 수 없기 때문에 데이터를 검색할 수 없습니다.
* 데이터가 검색되었지만 형식이 잘못되었습니다.

  예를 들어 인바운드 데이터의 구문 분석이 실패했기 때문에 이러한 문제가 발생할 수 있습니다.

TVSDK에서 오류에 대한 경고 알림을 보내고 처리를 계속합니다.

## 광고 삽입 단계 {#section_29F7F7756C8B40B99AD4C3DD16B72B5B}

TVSDK는 기본 콘텐츠에 해당하는 타임라인에 대체 콘텐츠(광고)를 삽입합니다.

광고 해결 단계가 완료되면 TVSDK에는 광고 중단으로 그룹화된 광고 리소스의 정렬 목록이 있습니다. 각 광고 브레이크는 밀리초(ms)로 표시되는 시작 시간 값을 사용하여 기본 콘텐츠 타임라인에 배치됩니다. 광고 브레이크의 각 광고에는 ms로도 표시되는 기간 속성이 있습니다. 광고 브레이크의 광고는 체인 방식으로 진행되므로 광고 브레이크 기간은 개별 작성 광고의 기간 합과 같습니다.

장애 조치(failover)는 광고 삽입 중에 타임라인에서 발생할 수 있는 충돌과 함께 이 단계에서 발생할 수 있습니다. 광고 브레이크 시작 시간/기간 값의 특정 조합의 경우 광고 세그먼트가 겹칠 수 있습니다. 이 겹침은 광고 브레이크의 마지막 부분이 다음 광고 브레이크에서 첫 번째 광고의 시작과 교차할 때 발생합니다. 이러한 경우 TVSDK는 이후 광고 브레이크를 삭제하고 모든 광고 브레이크가 삽입되거나 삭제될 때까지 목록의 다음 항목을 사용하여 광고 삽입 프로세스를 계속합니다.

TVSDK에서 오류에 대한 경고 알림을 보내고 처리를 계속합니다.

## 광고 재생 단계 {#section_DA816F88AF8A4A5A8FD0DE2D54A86031}

TVSDK는 광고 세그먼트를 다운로드하여 장치의 화면에서 렌더링합니다.

이제 TVSDK가 광고를 해결하고, 광고를 타임라인에 배치한 다음 화면에 콘텐츠를 렌더링하려고 합니다.

다음 주 오류 클래스는 다음 단계 동안 발생할 수 있습니다.

* 호스트 서버에 연결할 때.
* 매니페스트 파일을 다운로드할 때
* 미디어 세그먼트를 다운로드할 때.

TVSDK는 다음과 같은 경우에 트리거되는 알림 이벤트를 포함하여 트리거된 이벤트를 애플리케이션에 전달합니다.

* 페일오버가 발생합니다.
* 페일오버 알고리즘 때문에 프로필이 변경되었습니다.
* 모든 페일오버 옵션이 고려되었으며 추가 작업을 자동으로 수행할 수 없습니다.

  응용 프로그램에서 적절한 작업을 수행해야 합니다.

오류 발생 여부에 관계없이 TVSDK는 `onAdBreakComplete` 각 `onAdBreakStart` 및 `onAdComplete` 마다 `onAdStart`. 그러나 세그먼트를 다운로드할 수 없는 경우에는 타임라인에 간격이 있을 수 있습니다. 간격이 충분히 큰 경우 플레이헤드 위치의 값과 보고된 광고 진행률이 불연속성을 나타낼 수 있습니다.
