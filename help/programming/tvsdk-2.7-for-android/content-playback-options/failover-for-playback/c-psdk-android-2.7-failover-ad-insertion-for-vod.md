---
description: VOD(Video-On-Demand) 광고 삽입 프로세스는 광고 해결, 광고 삽입 및 광고 재생 단계로 구성됩니다. 광고 추적을 위해 TVSDK는 원격 추적 서버에 각 광고의 재생 진행 상황을 알려주어야 합니다. 예기치 않은 상황이 발생하면 TVSDK는 적절한 조치를 취합니다.
seo-description: VOD(Video-On-Demand) 광고 삽입 프로세스는 광고 해결, 광고 삽입 및 광고 재생 단계로 구성됩니다. 광고 추적을 위해 TVSDK는 원격 추적 서버에 각 광고의 재생 진행 상황을 알려주어야 합니다. 예기치 않은 상황이 발생하면 TVSDK는 적절한 조치를 취합니다.
seo-title: VOD를 위한 광고 삽입 및 장애 조치
title: VOD를 위한 광고 삽입 및 장애 조치
uuid: 1f813065-9310-4495-9fbb-d90eda8ac8bd
translation-type: tm+mt
source-git-commit: 812d04037c3b18f8d8cdd0d18430c686c3eee1ff

---


# VOD를 위한 광고 삽입 및 장애 조치 {#advertising-insertion-and-failover-for-vod}

VOD(Video-On-Demand) 광고 삽입 프로세스는 광고 해결, 광고 삽입 및 광고 재생 단계로 구성됩니다. 광고 추적을 위해 TVSDK는 원격 추적 서버에 각 광고의 재생 진행 상황을 알려주어야 합니다. 예기치 않은 상황이 발생하면 TVSDK는 적절한 조치를 취합니다.

## 광고 해결 단계 {#section_5DD3A7DA79E946298BFF829A60202E1C}

TVSDK는 Adobe Primetime 광고 결정 등의 광고 전달 서비스에 연결하여 광고의 비디오 스트림에 해당하는 기본 재생 목록 파일을 얻으려고 시도합니다. 광고 해결 단계 동안 TVSDK는 원격 광고 전달 서버에 HTTP 호출을 수행하고 서버 응답을 구문 분석합니다.

TVSDK 파섹

* 메타데이터 광고 공급자

   광고 데이터는 일반 텍스트 JSON 파일로 인코딩됩니다.
* Primetime 광고 의사 결정 광고 공급자

   TVSDK는 타깃팅 매개 변수 및 자산 식별 번호를 포함한 요청을 Primetime 광고 결정 백엔드 서버로 보냅니다. Primetime 광고 결정, 필요한 광고 정보가 포함된 동기화된 멀티미디어 통합 언어(SMIL) 문서에 응답
* 사용자 정의 광고 마커 공급자

   서버 측에서 광고가 스트림에 사용되는 상황을 처리합니다. TVSDK는 실제 광고 삽입을 수행하지 않지만 서버 측에 삽입된 광고를 추적해야 합니다. 이 공급자는 TVSDK가 광고 추적을 수행하는 데 사용하는 광고 마커를 설정합니다.

이 단계 중에는 다음과 같은 장애 조치(failover) 상황이 발생할 수 있습니다.

* 예를 들어, 연결이 부족하거나 리소스 등의 서버측 오류를 찾을 수 없기 때문에 데이터를 검색할 수 없습니다.
* 데이터가 검색되었지만 형식이 잘못되었습니다.

   예를 들어 인바운드 데이터의 구문 분석이 실패했기 때문에 이 문제가 발생할 수 있습니다.

TVSDK에서 오류에 대한 경고 알림을 발행하고 처리를 계속합니다.

## 광고 삽입 단계 {#section_29F7F7756C8B40B99AD4C3DD16B72B5B}

TVSDK는 기본 컨텐츠에 해당하는 대체 컨텐츠(광고)를 타임라인에 삽입합니다.

광고 해결 단계가 완료되면 TVSDK에는 광고 중단으로 그룹화된 광고 리소스 목록이 순서대로 표시됩니다. 각 광고 나누기는 밀리초(ms)로 표시되는 시작 시간 값을 사용하여 기본 컨텐츠 타임라인에 배치됩니다. 광고 중단의 각 광고에는 지속 시간 속성이 있으며 ms로도 표시됩니다. 광고 중단의 광고는 체인으로 연결되어 있으므로 광고 중단의 기간은 개별 광고 구성 기간의 합계와 같습니다.

이 단계에서는 광고를 삽입하는 동안 타임라인에서 발생할 수 있는 충돌과 함께 페일오버가 발생할 수 있습니다. 광고 브레이크 시작 시간/기간 값의 특정 조합의 경우 광고 세그먼트가 겹칠 수 있습니다. 이 겹치는 광고 나누기의 마지막 부분이 다음 광고 나누기의 첫 번째 광고 시작과 교차할 때 발생합니다. 이러한 경우 TVSDK는 이후 광고 나누기를 삭제하고 모든 광고 나누기가 삽입되거나 삭제될 때까지 다음 항목을 목록에 있는 광고 삽입 프로세스를 계속합니다.

TVSDK에서 오류에 대한 경고 알림을 발행하고 처리를 계속합니다.

## 광고 재생 단계 {#section_DA816F88AF8A4A5A8FD0DE2D54A86031}

TVSDK는 광고 세그먼트를 다운로드하고 장치의 화면에 렌더링합니다.

이제 TVSDK는 광고를 해결하고 광고를 타임라인에 배치하며 화면에 컨텐츠를 렌더링하려고 시도합니다.

다음 단계 동안 다음 주요 오류 클래스가 발생할 수 있습니다.

* 호스트 서버에 연결할 때.
* 매니페스트 파일을 다운로드할 때.
* 미디어 세그먼트를 다운로드할 때.

TVSDK는 다음과 같은 경우에 트리거되는 알림 이벤트를 포함하여 트리거된 이벤트를 애플리케이션에 전달합니다.

* 장애 조치가 발생합니다.
* 장애 조치(failover) 알고리즘으로 인해 프로필이 변경되었습니다.
* 모든 장애 조치 옵션이 고려되었으며 추가 작업을 자동으로 수행할 수 없습니다.

   애플리케이션은 적절한 조치를 취해야 합니다.

오류 발생 여부에 관계없이 TVSDK는 `onAdBreakComplete` 각 `onAdBreakStart` 및 `onAdComplete` 모든 사용자를 `onAdStart`호출합니다. 하지만 세그먼트를 다운로드할 수 없는 경우 타임라인에 간격이 있을 수 있습니다. 간격이 충분히 크면 재생 헤드 위치 및 보고된 광고 진행 상태의 값이 불연속적일 수 있습니다.
