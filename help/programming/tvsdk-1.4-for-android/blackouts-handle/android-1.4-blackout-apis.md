---
description: 라이브 비디오 스트림에서 일시 중단을 처리하고 일시 중단 중에 대체 콘텐츠를 제공할 수 있습니다.
title: 일시 중단 API 요소
source-git-commit: 02ebc3548a254b2a6554f1ab34afbb3ea5f09bb8
workflow-type: tm+mt
source-wordcount: '578'
ht-degree: 0%

---

# 일시 중단 API 요소{#blackout-api-elements}

라이브 비디오 스트림에서 일시 중단을 처리하고 일시 중단 중에 대체 콘텐츠를 제공할 수 있습니다.

라이브 스트림에서 일시 중단이 발생하면 플레이어가 이벤트 처리기를 사용하여 일시 중단을 감지하고 기본 스트림을 볼 수 없는 사용자에게 대체 콘텐츠를 제공합니다. 플레이어는 일시 중단 기간의 시작과 종료를 감지하고 재생을 기본 스트림에서 대체 스트림으로 전환하고 일시 중단 기간이 종료되면 다시 기본 스트림으로 전환합니다.

라이브 스트림에서 일시 중단을 처리하려면 다음 작업을 수행하십시오.

1. 라이브 스트림 매니페스트에서 일시 중단 태그를 구독하여 일시 중단 태그를 검색하도록 앱을 설정합니다.

   TVSDK는 자체적으로 일시 중단 태그를 검색하지 않습니다. 매니페스트 파일 구문 분석 중에 태그가 발견되면 알림을 받으려면 일시 중단 태그에 가입해야 합니다.
1. 플레이어가 가입한 태그(이 경우 PLAYBACK 및 BLANKOUT 태그)에 대한 이벤트 리스너를 만듭니다.

   플레이어가 구독한 태그(예: 일시 중단 태그)가 전경(기본 컨텐츠) 또는 배경(대체 컨텐츠) 스트림 매니페스트에서 발생하면 TVSDK가 `TimedMetadataEvent` 및 만들기 `TimedMetadataObject` 대상: `TimedMetadataEvent`.

1. 전경 스트림과 백그라운드 스트림 모두에 대해 시간 초과된 메타데이터 이벤트에 대한 핸들러를 구현합니다.

   이러한 처리기에서 시간 초과된 메타데이터 이벤트 객체에서 일시 중단 기간의 시작 및 종료 시간을 가져옵니다.
1. 일시 중단 기간 시작 및 종료 시 컨텐츠를 전환하는 방법을 생성합니다.

   일시 중단 기간이 시작되면 기본 컨텐츠를 백그라운드로 전환하고 대체 컨텐츠를 기본 스트림으로 전환합니다. 백그라운드에서 원본 매니페스트를 계속 가져와 구문 분석하고 &quot;일시 중단 종료&quot; 태그를 계속 확인하여 일시 중단이 종료될 때 플레이어가 원본 스트림에 다시 연결할 수 있도록 합니다.
1. 일시 중단 범위가 재생 스트림에서 DVR에 있는 경우 찾을 수 없는 범위를 업데이트합니다.

   추적 및 처리 `TimedMetadata` 백그라운드 스트림에서 일시 중단을 검색할 수 없는 범위를 준비하고 업데이트합니다.

TVSDK는 메서드, 메타데이터 및 알림을 포함하여 일시 중단을 구현할 때 유용한 API 요소를 제공합니다.

플레이어에서 일시 중단 솔루션을 구현할 때 다음 사항을 사용할 수 있습니다.

* **MediaPlayer**

   * `registerCurrentItemAsBackgroundItem` 현재 로드된 리소스를 백그라운드 리소스로 저장합니다. If `replaceCurrentResource` 이 메서드 다음에 가 호출되면 호출할 때까지 TVSDK에서 배경 항목의 매니페스트를 계속 다운로드합니다. `unregisterCurrentBackgroundItem`, `release`, 또는 `reset`.

   * `unregisterCurrentBackgroundItem` 백그라운드 항목을 null로 설정하고 백그라운드 매니페스트의 가져오기 및 구문 분석을 중지합니다.

* **일시 중단 메타데이터** -

  일시 중단과 관련된 메타데이터 클래스입니다.

  이를 통해 검색할 수 없는 범위(배열)를 설정할 수 있습니다. `TimeRanges`TVSDK의 ) TVSDK는 사용자가 검색할 때마다 이러한 범위를 확인합니다. 설정되어 있고 사용자가 검색할 수 없는 범위를 찾는 경우 TVSDK는 뷰어를 검색할 수 없는 범위의 끝으로 강제 적용합니다.

* **여기에서 시작 다음 광고 메타데이터** 를 설정하여 라이브 스트림에서 프리롤 활성화 또는 비활성화 `enableLivePreroll` true 또는 false입니다. false인 경우 TVSDK는 컨텐츠 재생 전에 프리롤 광고에 대한 명시적 광고 서버 호출을 수행하지 않으므로 프리롤을 재생하지 않습니다. 중간 롤에는 영향을 주지 않습니다. 기본값은 true입니다.

* **MediaPlayer.BlackoutsEventListener**

   * `onTimedMetadataInBackgroundItem` - 백그라운드 매니페스트에서 구독한 태그 및 새 태그를 감지하면 발송됨 `TimedMetadata` 인스턴스는 이 인스턴스에서 준비됩니다. 다음 `TimedMetadata` 인스턴스가 매개 변수로 발송됩니다.

   * `onBackgroundManifestFailed` - 미디어 플레이어가 배경 매니페스트를 완전히 로드하지 못할 때, 즉 모든 스트림 URL이 오류 또는 잘못된 응답을 반환하는 경우 발송됩니다.

* **알림**

   * `BACKGROUND_MANIFEST_WARNING`

      * 코드: 204000
      * 유형: 경고
      * 백그라운드 매니페스트 다운로드 중 오류가 발생했습니다.
