---
description: 클라이언트 비디오 플레이어 또는 매니페스트 서버가 CRS와 상호 작용하여 JIT 재패키징을 수행할 수 있습니다. 둘 다 동일한 광고 선택 논리를 사용합니다.
title: JIT 재패키징을 위한 자세한 워크플로우
translation-type: tm+mt
source-git-commit: 89bdda1d4bd5c126f19ba75a819942df901183d1
workflow-type: tm+mt
source-wordcount: '524'
ht-degree: 0%

---


# JIT 재패키징을 위한 자세한 워크플로 {#detailed-workflows-for-jit-repackaging}

클라이언트 비디오 플레이어 또는 매니페스트 서버가 CRS와 상호 작용하여 JIT 재패키징을 수행할 수 있습니다. 둘 다 동일한 광고 선택 논리를 사용합니다.

## 매니페스트 서버 {#section_1F1C1B7DD146403890C2B43E24FEF0EB}에서 시작한 JIT 다시 패키징

![](assets/ssai_JIT-workflow_web.png)

매니페스트 서버 측에서 JIT를 다시 패키지화하는 워크플로우는 다음과 같습니다.

1. 매니페스트 서버가 광고 서버에 요청을 합니다.
1. 매니페스트 서버는 HLS 형식이 아닌 광고 크리에이티브를 받습니다.
1. 매니페스트 서버는 이전에 코드 변환된 광고 크리에이티브 HLS 버전에 대한 요청을 CDN 서버로 보냅니다.

   >[!NOTE]
   >
   >다중 CDN 설정에서 매니페스트 서버는 부트스트랩 URL의 `ptcdn` 매개 변수를 사용하여 CDN 서버를 식별합니다.

1. 매니페스트 서버가 응답을 확인합니다.

   1. 요청이 성공하면 매니페스트 서버는 이전에 코드 변환된 광고 크리에이티브 HLS 버전을 콘텐츠 스트림에 삽입합니다.
   1. 요청이 실패하면 매니페스트 서버가 로그 항목을 생성하고 CRS에서 코드 변환된 버전을 요청합니다.

1. CRS는 광고 크리에이티브를 트랜스코딩하고 나중에 사용할 수 있도록 HLS 버전을 CDN 서버에 업로드합니다.

해당 크리에이티브 프로젝트에 대한 모든 후속 요청에 대해 매니페스트 서버는 CDN의 HLS 버전을 검색하고 이를 컨텐츠 스트림에 삽입합니다.

## 클라이언트가 시작한 JIT 재패키징 {#section_FBC97D40043F4FDD98247A08BB6195B0}

<!--<a id="fig_hkn_ndt_3z"></a>-->

![](assets/ssai_JIT-workflow_client_web.png)

TVSDK 기반 클라이언트 또는 유사한 기능을 갖춘 클라이언트는 CRS와 상호 작용하여 다음과 같이 JIT 재패키징을 달성할 수 있습니다.

1. 클라이언트는 광고 서버에서 광고를 요청합니다.
1. 광고 서버는 광고를 클라이언트에 반환합니다.
1. 클라이언트는 광고 서버에서 광고 형식을 확인합니다.

   1. 광고 크리에이티브가 HLS 형식이면 클라이언트는 이를 컨텐츠에 삽입(스티치)하고 완료됩니다.
   1. 광고 크리에이티브가 HLS 형식이 아닌 경우 클라이언트는 CDN 서버에서 광고를 요청합니다.

      >[!NOTE]
      >
      >다중 CDN 설정에서 매니페스트 서버는 부트스트랩 URL의 `ptcdn` 매개 변수를 사용하여 CDN 서버를 식별합니다.

1. 클라이언트는 CDN 서버의 응답을 확인합니다.

   1. CDN이 HLS 버전을 제공하면 클라이언트는 이를 컨텐츠에 삽입(스티치)하고 완료됩니다.
   1. CDN 서버가 HLS 버전을 제공하지 않으면 클라이언트는 광고 서버에 CRS에서 HLS 버전을 요청하도록 요청합니다. 클라이언트는 광고를 컨텐츠에 삽입하지 않습니다.

1. 광고 서버는 비HLS 광고를 HLS로 코드 변환하도록 요청합니다.
1. CRS는 HLS 버전을 만들고 나중에 사용하기 위해 CDN 서버에 업로드합니다.

## 광고 형식 우선 순위 및 타임라인 {#section_A74DE37A57BF45D7B6D09E3DE40F8E61}

매니페스트 서버와 클라이언트는 동일한 선택 논리를 사용하여 사용 가능한 광고를 재생하기 위한 우선 순위를 결정합니다. HLS 형식 광고가 가장 우선 순위가 높은데 이어 MP4, FLV 및 마지막으로 WebM이 있습니다.

일반적으로 CRS는 비 HLS 광고 크리에이티브를 처리하는 데 2-4분, 일반적으로 3분 미만입니다.

CRS는 다양한 HLS 비트 전송률을 생성하므로 사용 가능한 연결 속도와 대역폭에 적합한 속도로 광고를 재생할 수 있습니다. 사용 가능한 비트 전송률이 여러 개인 경우 CRS는 사용 가능한 가장 높은 비트 전송률을 선택합니다. CRS가 비 HLS 광고 크리에이티브를 수신하면 사용 가능한 고해상도의 HLS 버전이 생성됩니다.