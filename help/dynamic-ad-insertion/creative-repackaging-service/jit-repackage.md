---
description: 클라이언트 비디오 플레이어 또는 매니페스트 서버가 CRS와 상호 작용하여 JIT 재패키징을 달성할 수 있습니다. 둘 다 동일한 광고 선택 논리를 사용합니다.
seo-description: 클라이언트 비디오 플레이어 또는 매니페스트 서버가 CRS와 상호 작용하여 JIT 재패키징을 달성할 수 있습니다. 둘 다 동일한 광고 선택 논리를 사용합니다.
seo-title: JIT 재패키징을 위한 자세한 워크플로우
title: JIT 재패키징을 위한 자세한 워크플로우
uuid: 11b6eb3c-f6aa-4018-9b20-ab6f5910508b
translation-type: tm+mt
source-git-commit: 358c5b02d47f23a6adbc98e457e56c8220cae6e9
workflow-type: tm+mt
source-wordcount: '553'
ht-degree: 0%

---


# JIT 재패키징을 위한 자세한 워크플로 {#detailed-workflows-for-jit-repackaging}

클라이언트 비디오 플레이어 또는 매니페스트 서버가 CRS와 상호 작용하여 JIT 재패키징을 달성할 수 있습니다. 둘 다 동일한 광고 선택 논리를 사용합니다.

## 매니페스트 서버에서 시작한 JIT 재패키징 {#section_1F1C1B7DD146403890C2B43E24FEF0EB}

![](assets/ssai_JIT-workflow_web.png)

매니페스트 서버 측에서 JIT를 다시 패키지하는 워크플로우는 다음과 같습니다.

1. 매니페스트 서버가 광고 서버에 요청을 합니다.
1. 매니페스트 서버는 HLS 형식이 아닌 광고 크리에이티브를 받습니다.
1. 매니페스트 서버는 이전에 트랜스코딩된 광고 크리에이티브 HLS 버전에 대한 요청을 CDN 서버로 보냅니다.

   >[!NOTE]
   >
   >다중 CDN 설정에서 매니페스트 서버는 부트스트랩 URL의 `ptcdn` 매개 변수를 사용하여 CDN 서버를 식별합니다.

1. 매니페스트 서버가 응답을 확인합니다.

   1. 요청이 성공하면 매니페스트 서버는 이전에 코드된 광고 크리에이티브 HLS 버전을 콘텐츠 스트림에 삽입합니다.
   1. 요청이 실패할 경우 매니페스트 서버는 로그 항목을 생성하고 CRS에서 트랜스코딩 버전을 요청합니다.

1. CRS는 광고 크리에이티브를 트랜스코딩하고 나중에 사용할 수 있도록 HLS 버전을 CDN 서버에 업로드합니다.

해당 크리에이티브 작업에 대한 모든 후속 요청에 대해 매니페스트 서버는 CDN에서 HLS 버전을 검색하고 이를 컨텐츠 스트림에 삽입합니다.

## 클라이언트가 시작한 JIT 재포장{#section_FBC97D40043F4FDD98247A08BB6195B0}

<!--<a id="fig_hkn_ndt_3z"></a>-->

![](assets/ssai_JIT-workflow_client_web.png)

TVSDK 또는 유사한 기능을 사용하는 클라이언트는 CRS와 상호 작용하여 다음과 같이 JIT 재패키징을 달성할 수 있습니다.

1. 클라이언트가 광고 서버로부터 광고를 요청합니다.
1. 광고 서버는 광고를 클라이언트에 반환합니다.
1. 클라이언트는 광고 서버에서 광고 형식을 확인합니다.

   1. 광고 크리에이티브가 HLS 포맷인 경우 클라이언트는 해당 컨텐츠를 컨텐츠에 삽입하고(스티커) 완료합니다.
   1. 광고 크리에이티브가 HLS 형식이 아닌 경우 클라이언트는 CDN 서버에서 광고 크리에이티브를 요청합니다.

      >[!NOTE]
      >
      >다중 CDN 설정에서 매니페스트 서버는 부트스트랩 URL의 `ptcdn` 매개 변수를 사용하여 CDN 서버를 식별합니다.

1. 클라이언트는 CDN 서버의 응답을 확인합니다.

   1. CDN이 HLS 버전을 제공하면 클라이언트는 이를 컨텐츠에 삽입(스티치)하고 완료됩니다.
   1. CDN 서버가 HLS 버전을 제공하지 않는 경우 클라이언트는 광고 서버에 CRS에서 해당 버전을 요청하도록 요청합니다. 클라이언트는 광고를 컨텐츠에 삽입하지 않습니다.

1. 광고 서버는 비HLS와 HLS로 코드가 변환되도록 요청합니다.
1. CRS는 HLS 버전을 생성하고 나중에 사용할 수 있도록 CDN 서버에 업로드합니다.

## 광고 형식 우선 순위 및 타임라인 {#section_A74DE37A57BF45D7B6D09E3DE40F8E61}

매니페스트 서버와 클라이언트는 동일한 선택 논리를 사용하여 사용 가능한 광고를 재생하기 위한 우선 순위를 결정합니다. HLS 형식 광고가 가장 우선 순위가 높으므로 MP4, FLV 및 마지막으로 WebM이 그 뒤를 이었습니다.

CRS는 일반적으로 HLS가 아닌 광고 크리에이티브를 처리하는 데 2-4분이 소요되며, 일반적으로 3분 미만입니다.

CRS는 다양한 HLS 비트 속도를 생성하므로 사용 가능한 연결 속도와 대역폭에 맞는 속도로 광고를 재생할 수 있습니다. 사용 가능한 비트 속도가 여러 개인 경우 CRS가 사용 가능한 가장 높은 비트 속도를 선택합니다. CRS가 HLS가 아닌 광고 크리에이티브를 수신하면 사용 가능한 고해상도로 HLS 버전이 생성됩니다.